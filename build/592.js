"use strict";(self.webpackChunkbookmark002=self.webpackChunkbookmark002||[]).push([[592],{592:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(540),o=r(347);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const u=function(e){e.onClose;var t,r,a=e.hasTemplate,c=(0,o.n)(),u=c.state,m=c.dispatch,p=c.actions,f=(t=(0,n.useState)({renameBookmarks:!1,moveToTargetFolders:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,l=[],i=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],y=f[1],b=function(e,t){y(function(r){return l(l({},r),{},i({},e,t))})};return n.createElement("div",{className:"mt-6 flex justify-end space-x-4"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("input",{type:"checkbox",id:"renameOption",checked:d.renameBookmarks,onChange:function(e){return b("renameBookmarks",e.target.checked)},className:"form-checkbox h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),n.createElement("label",{htmlFor:"renameOption",className:"text-sm text-gray-700"},"重命名书签")),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("input",{type:"checkbox",id:"moveOption",checked:d.moveToTargetFolders,onChange:function(e){return b("moveToTargetFolders",e.target.checked)},className:"form-checkbox h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),n.createElement("label",{htmlFor:"moveOption",className:"text-sm text-gray-700"},"移动到目标文件夹")),n.createElement("button",{onClick:function(){var e,t,r,n,o;a?(m({type:p.START_ORGANIZE}),console.log("开始整理，选项:",d),e=["工作相关","学习资料","娱乐网站","购物网站","新闻资讯"],t=0,r=0,n=0,(o=function(){if(t>=e.length)return m({type:p.STOP_ORGANIZE}),void m({type:p.UPDATE_ORGANIZE_PROGRESS,payload:{currentItem:"处理完成",percentage:100}});var a=e[t],c=Math.random()>.2;m({type:p.UPDATE_ORGANIZE_PROGRESS,payload:{currentItem:"正在处理: ".concat(a),percentage:Math.round((t+1)/e.length*100)}}),setTimeout(function(){c?(r++,m({type:p.ADD_ORGANIZE_RESULT,payload:{item:a,success:!0,message:"成功移动到目标文件夹"}})):(n++,m({type:p.ADD_ORGANIZE_RESULT,payload:{item:a,success:!1,message:"无法确定合适的文件夹"}})),m({type:p.UPDATE_ORGANIZE_PROGRESS,payload:{successCount:r,failedCount:n}}),t++,o()},1e3+2e3*Math.random())})()):alert("请先配置文件夹模板")},disabled:u.organizeProgress.isRunning||!a,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),n.createElement("span",null,u.organizeProgress.isRunning?"整理中...":"开始整理"))),n.createElement("button",{onClick:function(){console.log("应用变更"),m({type:p.UPDATE_ORGANIZE_PROGRESS,payload:{isRunning:!1,currentItem:"",successCount:0,failedCount:0,percentage:0,results:[]}})},disabled:u.organizeProgress.isRunning||0===u.organizeProgress.results.length,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})),n.createElement("span",null,"应用变更")))}}}]);