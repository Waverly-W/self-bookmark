/*! For license information please see options.js.LICENSE.txt */
(()=>{"use strict";var e,r,t,n={212:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(540);const o=function(e){var r=e.bookmark;return e.level,n.createElement("div",{className:"bookmark-item"},n.createElement("svg",{className:"bookmark-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})),n.createElement("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1"},r.title))}},347:(e,r,t)=>{t.d(r,{D:()=>p,n:()=>v});var n=t(540);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,r){if(e){if("string"==typeof e)return i(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){u(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e,r,t){return(r=function(e){var r=function(e){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s={rootFolderId:"",folderTemplate:null,openaiConfig:{apiKey:"",apiUrl:"https://api.openai.com/v1",model:"gpt-4",customModel:""},isSettingsPanelOpen:!1,isOrganizePanelOpen:!1,bookmarks:[],foldersMap:new Map,organizeProgress:{isRunning:!1,currentItem:"",successCount:0,failedCount:0,percentage:0,results:[]}},f={SET_ROOT_FOLDER:"SET_ROOT_FOLDER",SET_FOLDER_TEMPLATE:"SET_FOLDER_TEMPLATE",SET_OPENAI_CONFIG:"SET_OPENAI_CONFIG",TOGGLE_SETTINGS_PANEL:"TOGGLE_SETTINGS_PANEL",TOGGLE_ORGANIZE_PANEL:"TOGGLE_ORGANIZE_PANEL",SET_BOOKMARKS:"SET_BOOKMARKS",SET_FOLDERS_MAP:"SET_FOLDERS_MAP",START_ORGANIZE:"START_ORGANIZE",STOP_ORGANIZE:"STOP_ORGANIZE",UPDATE_ORGANIZE_PROGRESS:"UPDATE_ORGANIZE_PROGRESS",ADD_ORGANIZE_RESULT:"ADD_ORGANIZE_RESULT"},m=function(e,r){var t,n,o;switch(r.type){case f.SET_ROOT_FOLDER:return c(c({},e),{},{rootFolderId:r.payload});case f.SET_FOLDER_TEMPLATE:return c(c({},e),{},{folderTemplate:r.payload});case f.SET_OPENAI_CONFIG:return c(c({},e),{},{openaiConfig:c(c({},e.openaiConfig),r.payload)});case f.TOGGLE_SETTINGS_PANEL:return c(c({},e),{},{isSettingsPanelOpen:null!==(t=r.payload)&&void 0!==t?t:!e.isSettingsPanelOpen});case f.TOGGLE_ORGANIZE_PANEL:return c(c({},e),{},{isOrganizePanelOpen:null!==(n=r.payload)&&void 0!==n?n:!e.isOrganizePanelOpen});case f.SET_BOOKMARKS:return c(c({},e),{},{bookmarks:r.payload});case f.SET_FOLDERS_MAP:return c(c({},e),{},{foldersMap:r.payload});case f.START_ORGANIZE:return c(c({},e),{},{organizeProgress:c(c({},e.organizeProgress),{},{isRunning:!0,successCount:0,failedCount:0,percentage:0,results:[]})});case f.STOP_ORGANIZE:return c(c({},e),{},{organizeProgress:c(c({},e.organizeProgress),{},{isRunning:!1})});case f.UPDATE_ORGANIZE_PROGRESS:return c(c({},e),{},{organizeProgress:c(c({},e.organizeProgress),r.payload)});case f.ADD_ORGANIZE_RESULT:return c(c({},e),{},{organizeProgress:c(c({},e.organizeProgress),{},{results:[].concat((o=e.organizeProgress.results,function(e){if(Array.isArray(e))return i(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||a(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[r.payload])})});default:return e}},d=(0,n.createContext)(),p=function(e){var r,t,o=e.children,i=(r=(0,n.useReducer)(m,s),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(r,t)||a(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l={state:i[0],dispatch:i[1],actions:f};return n.createElement(d.Provider,{value:l},o)},v=function(){var e=(0,n.useContext)(d);if(!e)throw new Error("useApp must be used within an AppProvider");return e}},565:(e,r,t)=>{t.d(r,{T:()=>s});var n=t(540);function o(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function l(t,n,o,i){var l=n&&n.prototype instanceof u?n:u,s=Object.create(l.prototype);return a(s,"_invoke",function(t,n,o){var a,i,l,u=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,t){return a=r,i=0,l=e,m.n=t,c}};function d(t,n){for(i=t,l=n,r=0;!f&&u&&!o&&r<s.length;r++){var o,a=s[r],d=m.p,p=a[2];t>3?(o=p===n)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=t<2&&d<a[1])?(i=0,m.v=n,m.n=a[1]):d<p&&(o=t<3||a[0]>n||n>p)&&(a[4]=t,a[5]=n,m.n=p,i=0))}if(o||t>1)return c;throw f=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),i=s,l=p;(r=i<2?e:l)||!f;){a||(i?i<3?(i>1&&(m.n=-1),d(i,l)):m.n=l:m.v=l);try{if(u=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((r=(f=m.n<0)?l:t.call(n,m))!==c)break}catch(r){a=e,i=1,l=r}finally{u=1}}return{value:r,done:f}}}(t,o,i),!0),s}var c={};function u(){}function s(){}function f(){}r=Object.getPrototypeOf;var m=[][n]?r(r([][n]())):(a(r={},n,function(){return this}),r),d=f.prototype=u.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,a(d,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,i,"GeneratorFunction"),a(d),a(d,i,"Generator"),a(d,n,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:p}})()}function a(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,r,t,n){function i(r,t){a(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(i("next",0),i("throw",1),i("return",2))},a(e,r,t,n)}function i(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void t(e)}l.done?r(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function l(e){i(a,n,o,l,c,"next",e)}function c(e){i(a,n,o,l,c,"throw",e)}l(void 0)})}}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return u(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var s=function(){var e=c((0,n.useState)([]),2),r=e[0],t=e[1],a=c((0,n.useState)(!0),2),i=a[0],u=a[1],s=c((0,n.useState)(null),2),f=s[0],m=s[1],d=(0,n.useCallback)(function(){return new Promise(function(e,r){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.getTree(function(t){chrome.runtime.lastError?r(new Error(chrome.runtime.lastError.message)):e(t)}):r(new Error("Chrome bookmarks API not available"))})},[]),p=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.getSubTree(e,function(e){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r(e)}):t(new Error("Chrome bookmarks API not available"))})},[]),v=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.create(e,function(e){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r(e)}):t(new Error("Chrome bookmarks API not available"))})},[]),b=(0,n.useCallback)(function(e,r){return new Promise(function(t,n){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.update(e,r,function(e){chrome.runtime.lastError?n(new Error(chrome.runtime.lastError.message)):t(e)}):n(new Error("Chrome bookmarks API not available"))})},[]),h=(0,n.useCallback)(function(e,r){return new Promise(function(t,n){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.move(e,r,function(e){chrome.runtime.lastError?n(new Error(chrome.runtime.lastError.message)):t(e)}):n(new Error("Chrome bookmarks API not available"))})},[]),y=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.bookmarks?chrome.bookmarks.remove(e,function(){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r()}):t(new Error("Chrome bookmarks API not available"))})},[]),g=(0,n.useCallback)(l(o().m(function e(){var r,n,a,i=arguments;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=i.length>0&&void 0!==i[0]?i[0]:"",e.p=1,u(!0),m(null),!r){e.n=3;break}return e.n=2,p(r);case 2:n=e.v,e.n=5;break;case 3:return e.n=4,d();case 4:n=e.v;case 5:t(n),e.n=7;break;case 6:e.p=6,a=e.v,m(a.message);case 7:return e.p=7,u(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])})),[d,p]);return(0,n.useEffect)(function(){g()},[g]),{bookmarks:r,loading:i,error:f,loadBookmarks:g,getBookmarkTree:d,getSubTree:p,createBookmark:v,updateBookmark:b,moveBookmark:h,removeBookmark:y}}},745:(e,r,t)=>{t.d(r,{A:()=>l});var n=t(540),o=t(212);function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var i=function(e){var r,t,l=e.folder,c=e.level,u=void 0===c?0:c,s=(r=(0,n.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(r,t)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],m=s[1];return n.createElement("div",{className:"folder"},n.createElement("div",{className:"folder-title",onClick:function(){m(!f)}},n.createElement("svg",{className:"folder-title-icon ".concat(f?"rotate-90":""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})),n.createElement("svg",{className:"w-5 h-5 mr-2 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})),n.createElement("span",null,l.title)),n.createElement("div",{className:"folder-content ".concat(f?"":"h-0"),"data-state":f?"open":"closed"},f&&(l.children&&0!==l.children.length?l.children.map(function(e){return e.children?n.createElement(i,{key:e.id,folder:e,level:u+1}):n.createElement(o.A,{key:e.id,bookmark:e,level:u+1})}):null)))};const l=i},847:(e,r,t)=>{var n=t(540),o=t(338),a=t(347);const i=function(){var e=(0,a.n)(),r=e.state,t=e.dispatch,o=e.actions;return n.createElement("header",{className:"mb-8 animate-fade-in flex justify-between items-center"},n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-2"},"SelfBookmark"),n.createElement("div",{className:"h-1 w-20 bg-blue-500 rounded"})),n.createElement("div",{className:"flex space-x-4"},n.createElement("button",{onClick:function(){t({type:o.TOGGLE_ORGANIZE_PANEL})},className:"btn-primary flex items-center space-x-2 transition-all duration-300 hover:bg-blue-600 ".concat(r.isOrganizePanelOpen?"btn-secondary bg-gray-200":""),"aria-label":"智能整理"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})),n.createElement("span",null,"智能整理")),n.createElement("button",{onClick:function(){t({type:o.TOGGLE_SETTINGS_PANEL})},className:"btn-icon group","aria-label":"打开设置"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})))))};var l=t(565),c=t(933),u=t(745),s=t(212);function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}const m=function(){var e,r,t=(0,a.n)().state,o=(0,l.T)(),i=o.bookmarks,m=o.loading,d=o.error,p=o.loadBookmarks,v=(0,c.r)(["rootFolderId"]).data,b=(e=(0,n.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=b[0],y=b[1];return(0,n.useEffect)(function(){var e=v.rootFolderId||t.rootFolderId;p(e)},[v.rootFolderId,t.rootFolderId,p]),(0,n.useEffect)(function(){if(i.length>0)if(v.rootFolderId){var e=i[0];y((null==e?void 0:e.children)||[])}else{var r;y((null===(r=i[0])||void 0===r?void 0:r.children)||[])}},[i,v.rootFolderId]),m?n.createElement("div",{className:"card animate-fade-in"},n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.createElement("span",{className:"ml-2 text-gray-600"},"加载书签中..."))):d?n.createElement("div",{className:"card animate-fade-in"},n.createElement("div",{className:"text-center py-8"},n.createElement("div",{className:"text-red-500 mb-2"},n.createElement("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),n.createElement("p",{className:"text-gray-600"},"加载书签时出错: ",d))):n.createElement("div",{className:"card animate-fade-in ".concat(t.isOrganizePanelOpen?"hidden":"")},n.createElement("div",{className:"hidden"},n.createElement("svg",{id:"folder-icon",className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})),n.createElement("svg",{id:"chevron-icon",className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})),n.createElement("svg",{id:"bookmark-icon",className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"}))),0===h.length?n.createElement("div",{className:"text-center py-8"},n.createElement("div",{className:"text-gray-400 mb-2"},n.createElement("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"}))),n.createElement("p",{className:"text-gray-500"},"暂无书签")):n.createElement("div",{className:"space-y-1"},h.map(function(e){return e.children?n.createElement(u.A,{key:e.id,folder:e,onToggle:function(){}}):n.createElement(s.A,{key:e.id,bookmark:e})})))};t(935);var d=(0,n.lazy)(function(){return t.e(226).then(t.bind(t,226))}),p=(0,n.lazy)(function(){return t.e(970).then(t.bind(t,970))}),v=function(){return n.createElement("div",{className:"flex items-center justify-center py-8"},n.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.createElement("span",{className:"ml-2 text-gray-600"},"加载中..."))};const b=function(){return n.createElement(a.D,null,n.createElement("div",{className:"bg-gray-50 min-h-screen"},n.createElement("div",{className:"container mx-auto px-4 py-8 max-w-4xl"},n.createElement(i,null),n.createElement("div",{id:"defaultView"},n.createElement(m,null)),n.createElement(n.Suspense,{fallback:n.createElement(v,null)},n.createElement(p,null)),n.createElement(n.Suspense,{fallback:n.createElement(v,null)},n.createElement(d,null)))))};var h=document.getElementById("options-root");(0,o.createRoot)(h).render(n.createElement(b,null))},933:(e,r,t)=>{t.d(r,{r:()=>p});var n=t(540);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){l(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l(e,r,t){return(r=function(e){var r=function(e){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return u(s,"_invoke",function(t,n,o){var a,l,c,u=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,t){return a=r,l=0,c=e,m.n=t,i}};function d(t,n){for(l=t,c=n,r=0;!f&&u&&!o&&r<s.length;r++){var o,a=s[r],d=m.p,p=a[2];t>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=t<2&&d<a[1])?(l=0,m.v=n,m.n=a[1]):d<p&&(o=t<3||a[0]>n||n>p)&&(a[4]=t,a[5]=n,m.n=p,l=0))}if(o||t>1)return i;throw f=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),l=s,c=p;(r=l<2?e:c)||!f;){a||(l?l<3?(l>1&&(m.n=-1),d(l,c)):m.n=c:m.v=c);try{if(u=2,a){if(l||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,l<2&&(l=0)}else 1===l&&(r=a.return)&&r.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((r=(f=m.n<0)?c:t.call(n,m))!==i)break}catch(r){a=e,l=1,c=r}finally{u=1}}return{value:r,done:f}}}(t,o,a),!0),s}var i={};function l(){}function s(){}function f(){}r=Object.getPrototypeOf;var m=[][n]?r(r([][n]())):(u(r={},n,function(){return this}),r),d=f.prototype=l.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,u(d,"constructor",f),u(f,"constructor",s),s.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,n,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(c=function(){return{w:a,m:p}})()}function u(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}u=function(e,r,t,n){function a(r,t){u(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},u(e,r,t,n)}function s(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void t(e)}l.done?r(c):Promise.resolve(c).then(n,o)}function f(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e){s(a,n,o,i,l,"next",e)}function l(e){s(a,n,o,i,l,"throw",e)}i(void 0)})}}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=m((0,n.useState)({}),2),t=r[0],o=r[1],a=m((0,n.useState)(!0),2),l=a[0],u=a[1],s=m((0,n.useState)(null),2),d=s[0],p=s[1],v=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.get(e,function(e){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r(e)}):t(new Error("Chrome storage API not available"))})},[]),b=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.set(e,function(){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r()}):t(new Error("Chrome storage API not available"))})},[]),h=(0,n.useCallback)(function(e){return new Promise(function(r,t){"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.remove(e,function(){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):r()}):t(new Error("Chrome storage API not available"))})},[]),y=(0,n.useCallback)(function(){return new Promise(function(e,r){"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.clear(function(){chrome.runtime.lastError?r(new Error(chrome.runtime.lastError.message)):e()}):r(new Error("Chrome storage API not available"))})},[]),g=(0,n.useCallback)(f(c().m(function r(){var t,n,a,i=arguments;return c().w(function(r){for(;;)switch(r.p=r.n){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:e,r.p=1,u(!0),p(null),r.n=2,v(t);case 2:n=r.v,o(n),r.n=4;break;case 3:r.p=3,a=r.v,p(a.message);case 4:return r.p=4,u(!1),r.f(4);case 5:return r.a(2)}},r,null,[[1,3,4,5]])})),[v,e]),E=(0,n.useCallback)(function(){var e=f(c().m(function e(r){var t;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,p(null),e.n=1,b(r);case 1:o(function(e){return i(i({},e),r)}),e.n=3;break;case 2:throw e.p=2,t=e.v,p(t.message),t;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(r){return e.apply(this,arguments)}}(),[b]);return(0,n.useEffect)(function(){e?g():u(!1)},[g,e]),{data:t,loading:l,error:d,get:v,set:E,remove:h,clear:y,reload:g}}}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var t=o[e]={id:e,exports:{}};return n[e](t,t.exports,a),t.exports}a.m=n,e=[],a.O=(r,t,n,o)=>{if(!t){var i=1/0;for(s=0;s<e.length;s++){for(var[t,n,o]=e[s],l=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every(e=>a.O[e](t[c]))?t.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var u=n();void 0!==u&&(r=u)}}return r}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,n,o]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((r,t)=>(a.f[t](e,r),r),[])),a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r={},t="bookmark002:",a.l=(e,n,o,i)=>{if(r[e])r[e].push(n);else{var l,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var f=u[s];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==t+o){l=f;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=e),r[e]=[n];var m=(t,n)=>{l.onerror=l.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach(e=>e(n)),t)return t(n)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),c&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var r=a.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={575:0};a.f.j=(r,t)=>{var n=a.o(e,r)?e[r]:void 0;if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((t,o)=>n=e[r]=[t,o]);t.push(n[2]=o);var i=a.p+a.u(r),l=new Error;a.l(i,t=>{if(a.o(e,r)&&(0!==(n=e[r])&&(e[r]=void 0),n)){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+r+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}},"chunk-"+r,r)}},a.O.j=r=>0===e[r];var r=(r,t)=>{var n,o,[i,l,c]=t,u=0;if(i.some(r=>0!==e[r])){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(c)var s=c(a)}for(r&&r(t);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},t=self.webpackChunkbookmark002=self.webpackChunkbookmark002||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})(),a.nc=void 0;var i=a.O(void 0,[644,788],()=>a(847));i=a.O(i)})();